#:kivy 1.4.1

<RunningGame>:
	canvas:
		Color: 
			rgb: (.16796875, 0.8125, 1.)
		Rectangle:
			size: (root.size[0], root.size[1]*75)
			pos: root.pos
		Color:
			rgb: (1., 1., 1.)
		Rectangle:
			source: 'media/art/backgrounds/skybackground1.png'
			pos: root.pos
			size: self.size
		
	FloatLayout:
		DebugPanel:
            size_hint: (.3, .1)
            pos: (root.pos[0]+root.size[0]*.34, root.pos[1]+root.height*.89)

<MenuScreen>:
    canvas:
        Color:
            rgb: (1., 1., 1.)
        Rectangle:
            source: 'media/art/backgrounds/skybackground1.png'
            pos: root.pos
            size: self.size
    ScrollingBackground:
        pos: root.pos
        size: root.size
    ScrollingMidground:
        pos: root.pos
        size: root.size
    Widget:
        pos: root.pos
        size: root.size
        canvas:
            Color:
                rgba: (1, 1, 1, .6)
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            id: center_menu
            source: 'media/art/icons/menu_background.png'
            pos: root.pos
            size: root.size
        BoxLayout:
            size: center_menu.texture_size
            pos: (root.x + (root.width - center_menu.texture_size[0])/2., root.y + (root.height - center_menu.texture_size[1])/2.)
            orientation: 'vertical'
            padding: 40
            spacing: 40
            Button:
                size_hint: (1, .5)
                background_normal: 'media/art/icons/new_game_button_normal.png'
                background_down: 'media/art/icons/new_game_button_down.png'
                on_release: root.button_callback('new')
            Button:
                name: 'quit'
                size_hint: (1, .5)
                background_normal: 'media/art/icons/quit_button_normal.png'
                background_down: 'media/art/icons/quit_button_down.png'
                on_release: root.button_callback('quit')

<ReplayScreen>:
    canvas:
        Color:
            rgb: (1., 1., 1.)
        Rectangle:
            source: 'media/art/backgrounds/skybackground1.png'
            pos: root.pos
            size: self.size
    ScrollingBackground:
        pos: root.pos
        size: root.size
    ScrollingMidground:
        pos: root.pos
        size: root.size
    Widget:
        pos: root.pos
        size: root.size
        canvas:
            Color:
                rgba: (1, 1, 1, .6)
            Rectangle:
                pos: self.pos
                size: self.size
        Image:
            id: center_menu
            source: 'media/art/icons/menu_background.png'
            pos: root.pos
            size: root.size
        BoxLayout:
            size: center_menu.texture_size
            pos: (root.x + (root.width - center_menu.texture_size[0])/2., root.y + (root.height - center_menu.texture_size[1])/2.)
            orientation: 'vertical'
            padding: 40
            spacing: 40
            Label:
                size_hint: (1, .1)
                text: 'You Lose!'
            GridLayout:
                cols: 2
                size_hint: (1, .8)
                Label:
                    size_hint: (.2, .2)
                    text: root.hi_scores_list[0][1]
                Label:
                    size_hint: (.8, .2)
                    text: root.hi_scores_list[0][0]
                Label:
                    size_hint: (.2, .2)
                    text: root.hi_scores_list[1][1]
                Label:
                    size_hint: (.8, .2)
                    text: root.hi_scores_list[1][0]
                Label:
                    size_hint: (.2, .2)
                    text: root.hi_scores_list[2][1]
                Label:
                    size_hint: (.8, .2)
                    text: root.hi_scores_list[2][0]
                Label:
                    size_hint: (.2, .2)
                    text: root.hi_scores_list[3][1]
                Label:
                    size_hint: (.8, .2)
                    text: root.hi_scores_list[3][0]
                Label:
                    size_hint: (.2, .2)
                    text: root.hi_scores_list[4][1]
                Label:
                    size_hint: (.8, .2)
                    text: root.hi_scores_list[4][0]
            BoxLayout:
                orientation: 'horizontal'
                size_hint: (1., .1)
                spacing: 20
                Button:
                    size_hint: (.5, 1)
                    background_normal: 'media/art/icons/new_game_button_normal.png'
                    background_down: 'media/art/icons/new_game_button_down.png'
                    on_release: root.button_callback('new')
                Button:
                    name: 'quit'
                    size_hint: (.5, 1)
                    background_normal: 'media/art/icons/quit_button_normal.png'
                    background_down: 'media/art/icons/quit_button_down.png'
                    on_release: root.button_callback('quit')

<ScoreDisplay>:
	Label:
		pos: root.pos
		size: root.size
		font_size: root.size[1]*.28
		halign: 'center'
		valign: 'middle'
		text: 'Score: ' + str(root.score)

<LivesDisplay>:
	Label:
		pos: root.pos
		size: root.size
		font_size: root.size[1]*.28
		halign: 'center'
		valign: 'middle'
		text: 'Lives: ' + str(root.lives)

#<MenuInterface>:
#    canvas:
#        Color:
#            rgba: (1, 1, 1, .5)
#        Rectangle:
#            pos: root.pos
#            size: root.size

<DebugPanel>:
    fps: root.fps
    Label:
        pos: root.pos
        size: root.size
        font_size: root.size[1]*.28
        halign: 'center'
        valign: 'middle'
        color: (1,1,1,1)
        text: 'FPS: ' + root.fps if root.fps != None else 'FPS:'
        bind: root.update_fps(None)
			


<GetNameInput>:
    BoxLayout:
        orientation: 'vertical'
        pos: root.pos
        size: root.size
        spacing: 20
        padding: 20
        TextInput:
            multiline: False
            text: root.text
            on_text: root.text = args[1]
        BoxLayout:
            orientation: 'horizontal'
            Widget:
                size_hint_x: .2
                size_hint_y: None
                height: 64
            Button:
                text: 'OK'
                size_hint_x: .6
                size_hint_y: None
                height: 64
                on_release: root.ok = True
            Widget:
                size_hint_x: .2
                size_hint_y: None
                height: 64